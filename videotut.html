<html>

<head>
        <script src="js/three.js"></script>
        <script src="https://threejs.org/build/three.min.js"></script>

   <style>
       #container {
           position: absolute;
           width: 100%;
           height: 100%;
           
       }
       body {
            width: 100vw;
            height: 100vh;
            margin: 0;
            background: black;
            overflow: hidden;
}
   </style>
</head>

<body>
   <div id="container"></div>

   <script>
       const container = document.getElementById('container');
       //********** CREATED SCENE***********
       const scene = new THREE.Scene();
       scene.background = new THREE.Color('#000000');


       //******* CAMERA************
       const camera = new THREE.PerspectiveCamera(70, container.clientWidth / container.clientHeight, 0.01, 100);
       camera.position.set(0, 8, 6);
       camera.rotateX(-Math.PI / 8);

        //*********BOX AND GEOMETRY************

       //const geometry = new THREE.SphereBufferGeometry( 2, 32, 32 );
       const geometry1 = new THREE.BoxBufferGeometry(10, 0, 10);
       const material1 = new THREE.MeshStandardMaterial({
           color: 0xDDDD05
       });
       const box1 = new THREE.Mesh(geometry1, material1);
       box1.position.set(0, 5, 0);
       scene.add(box1);

       const geometry2 = new THREE.BoxBufferGeometry(10, 0, 10);
       const material2 = new THREE.MeshStandardMaterial({
           color: 0xff0000
       });
       const box2 = new THREE.Mesh(geometry2, material2);
       box2.position.set(0, 5, -11);
       scene.add(box2);


       const geometry3 = new THREE.BoxBufferGeometry(10, 0, 10);
       const material3 = new THREE.MeshStandardMaterial({
           color: 0x054ADD
       });
       const box3 = new THREE.Mesh(geometry3, material3);
       box3.position.set(0, 5, -22 );
       scene.add(box3);

        //ADD LIGHT 
       const light = new THREE.DirectionalLight(0x404040, 5);
       scene.add(light);

    //    // Add Sky
    //            var sky, sunSphere;

	// 			sky = new Sky();
	// 			sky.scale.setScalar( 450000 );
	// 			scene.add( sky );
	// 			// Add Sun Helper
	// 			sunSphere = new THREE.Mesh(
	// 				new THREE.SphereBufferGeometry( 20000, 16, 8 ),
	// 				new THREE.MeshBasicMaterial( { color: 0xffffff } )
	// 			);
	// 			sunSphere.position.y = - 700000;
	// 			sunSphere.visible = false;
	// 			scene.add( sunSphere );


  //******************** BALL*******************
    var heroSphere;
    var sphereGeometry = new THREE.SphereGeometry(0.7,20,20);
    var sphereMaterial = new THREE.MeshStandardMaterial( { color: 0xFF0000 ,shading:THREE.FlatShading} )
    heroSphere = new THREE.Mesh( sphereGeometry, sphereMaterial );
	heroSphere.receiveShadow = true;
    heroSphere.castShadow=true;
    heroSphere.position.set(0,6.5,0);
    scene.add( heroSphere );
    
//****************** SUN *********************
    sun = new THREE.DirectionalLight( 0xffffff, 0.8);   
	sun.position.set( 5,5,5);
	sun.castShadow = true;
	scene.add(sun);
	//Set up shadow properties for the sun light
	sun.shadow.mapSize.width = 256;
	sun.shadow.mapSize.height = 256;
	sun.shadow.camera.near = 0.5;
    sun.shadow.camera.far = 50 ;
    scene.add(sun);

    //*************** cloud************
    // let  cloudParticles = [], flash, rain, rainGeo, rainCount = 15000;
    //  var ambient = new THREE.AmbientLight(0x555555);
    //   scene.add(ambient);
    //   var directionalLight = new THREE.DirectionalLight(0xffeedd);
    //   directionalLight.position.set(0,0,1);
    //   scene.add(directionalLight);
    //   flash = new THREE.PointLight(0x062d89, 30, 500 ,1.7);
    //   flash.position.set(200,300,100);
    //   scene.add(flash);


    //   rainGeo = new THREE.Geometry();
    //   for(let i=0;i<rainCount;i++) {
    //     rainDrop = new THREE.Vector3(
    //       Math.random() * 400 -200,
    //       Math.random() * 500 - 250,
    //       Math.random() * 400 - 200
    //     );
    //     rainDrop.velocity = {};
    //     rainDrop.velocity = 0;
    //     rainGeo.vertices.push(rainDrop);
    //   }
    //   rainMaterial = new THREE.PointsMaterial({
    //     color: 0xaaaaaa,
    //     size: 0.1,
    //     transparent: true
    //   });
    //   rain = new THREE.Points(rainGeo,rainMaterial);
    //   scene.add(rain);
    //   let loader = new THREE.TextureLoader();
    //   loader.load("smoke-1.png", function(texture){
    //     cloudGeo = new THREE.PlaneBufferGeometry(500,500);
    //     cloudMaterial = new THREE.MeshLambertMaterial({
    //       map: texture,
    //       transparent: true
    //     });
    //     for(let p=0; p<25; p++) {
    //       let cloud = new THREE.Mesh(cloudGeo,cloudMaterial);
    //       cloud.position.set(
    //         Math.random()*800 -400,
    //         500,
    //         Math.random()*500 - 450
    //       );
    //       cloud.rotation.x = 1.16;
    //       cloud.rotation.y = -0.12;
    //       cloud.rotation.z = Math.random()*360;
    //       cloud.material.opacity = 0.6;
    //       cloudParticles.push(cloud);
    //       scene.add(cloud);
    //     }
    //     animateCloud();
    //   });
    // }
    // function animateCloud() {
    //   cloudParticles.forEach(p => {
    //     p.rotation.z -=0.002;
    //   });
    //   rainGeo.vertices.forEach(p => {
    //     p.velocity -= 0.1 + Math.random() * 0.1;
    //     p.y += p.velocity;
    //     if (p.y < -200) {
    //       p.y = 200;
    //       p.velocity = 0;
    //     }
    //   });
    //   rainGeo.verticesNeedUpdate = true;
    //   rain.rotation.y +=0.002;
    //   if(Math.random() > 0.93 || flash.power > 100) {
    //     if(flash.power < 100) 
    //       flash.position.set(
    //         Math.random()*400,
    //         300 + Math.random() *200,
    //         100
    //       );
    //     flash.power = 50 + Math.random() * 500;
    //   }
    //   renderer.render(scene, camera);
    //   requestAnimationFrame(animateCloud);
    // }
   

        //******RENDERER**********

       const renderer = new THREE.WebGLRenderer({
           antialias: true
       });
       renderer.setSize(container.clientWidth, container.clientHeight);
       renderer.setPixelRatio(window.devicePixelRatio);

    //    scene.fog = new THREE.FogExp2(0x11111f, 0.002);
    //   renderer.setClearColor(scene.fog.color);
       
      container.appendChild(renderer.domElement);

       renderer.render(scene, camera);

       var xi = 1;

       function animate() {
           console.log(xi++);
           box1.position.z += 0.050;
           box2.position.z += 0.050;
           box3.position.z += 0.050;

           heroSphere.rotation.x -= 0.05;

           requestAnimationFrame(animate);
           renderer.render(scene, camera);
           
       }



       

       function onWindowResize() {
           camera.aspect = container.clientWidth / container.clientHeight;

           renderer.setSize(container.clientWidth, container.clientHeight);
           camera.updateProjectionMatrix();
       }

       window.addEventListener('resize', onWindowResize);

       animate();
   </script>
</body>

</html>